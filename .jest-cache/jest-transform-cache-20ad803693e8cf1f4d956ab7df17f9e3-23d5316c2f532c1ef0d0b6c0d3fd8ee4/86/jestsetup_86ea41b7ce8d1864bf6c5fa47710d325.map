{"version":3,"sources":["/mnt/c/Users/octav/Projetos/estaff-web/jest.setup.js"],"sourcesContent":["import '@testing-library/jest-dom'\n\n// Mock Next.js router\njest.mock('next/router', () => ({\n  useRouter() {\n    return {\n      route: '/',\n      pathname: '/',\n      query: {},\n      asPath: '/',\n      push: jest.fn(),\n      pop: jest.fn(),\n      reload: jest.fn(),\n      back: jest.fn(),\n      prefetch: jest.fn().mockResolvedValue(undefined),\n      beforePopState: jest.fn(),\n      events: {\n        on: jest.fn(),\n        off: jest.fn(),\n        emit: jest.fn(),\n      },\n    }\n  },\n}))\n\n// Mock Next.js navigation (App Router)\njest.mock('next/navigation', () => ({\n  useRouter() {\n    return {\n      push: jest.fn(),\n      replace: jest.fn(),\n      refresh: jest.fn(),\n      back: jest.fn(),\n      forward: jest.fn(),\n      prefetch: jest.fn(),\n    }\n  },\n  useSearchParams() {\n    return new URLSearchParams()\n  },\n  usePathname() {\n    return '/'\n  },\n}))\n\n// Mock Framer Motion to avoid animation issues in tests\njest.mock('framer-motion', () => ({\n  motion: {\n    div: 'div',\n    span: 'span',\n    p: 'p',\n    h1: 'h1',\n    h2: 'h2',\n    h3: 'h3',\n    button: 'button',\n    section: 'section',\n    article: 'article',\n    header: 'header',\n    footer: 'footer',\n    nav: 'nav',\n  },\n  AnimatePresence: ({ children }) => children,\n  useAnimation: () => ({\n    start: jest.fn(),\n    stop: jest.fn(),\n    set: jest.fn(),\n  }),\n}))\n\n// Mock IntersectionObserver\nglobal.IntersectionObserver = jest.fn(() => ({\n  observe: jest.fn(),\n  disconnect: jest.fn(),\n  unobserve: jest.fn(),\n}))\n\n// Mock ResizeObserver\nglobal.ResizeObserver = jest.fn(() => ({\n  observe: jest.fn(),\n  disconnect: jest.fn(),\n  unobserve: jest.fn(),\n}))\n\n// Mock window.matchMedia\nObject.defineProperty(window, 'matchMedia', {\n  writable: true,\n  value: jest.fn().mockImplementation(query => ({\n    matches: false,\n    media: query,\n    onchange: null,\n    addListener: jest.fn(), // deprecated\n    removeListener: jest.fn(), // deprecated\n    addEventListener: jest.fn(),\n    removeEventListener: jest.fn(),\n    dispatchEvent: jest.fn(),\n  })),\n})\n\n// Mock getComputedStyle for performance tests\nglobal.getComputedStyle = jest.fn(() => ({\n  getPropertyValue: jest.fn(() => ''),\n}))\n\n// Performance measurement globals\nglobal.performance = global.performance || {\n  now: jest.fn(() => Date.now()),\n  mark: jest.fn(),\n  measure: jest.fn(),\n  getEntriesByName: jest.fn(() => []),\n  getEntriesByType: jest.fn(() => []),\n}\n\n// Mock console methods to reduce noise in tests\nconst originalError = console.error\nconst originalWarn = console.warn\n\nbeforeAll(() => {\n  console.error = (...args) => {\n    // Suppress known warnings/errors that are expected in tests\n    if (\n      args[0]?.includes?.('Warning: ReactDOM.render is no longer supported') ||\n      args[0]?.includes?.('Warning: Each child in a list should have a unique') ||\n      args[0]?.includes?.('Color token not found')\n    ) {\n      return\n    }\n    originalError.call(console, ...args)\n  }\n  \n  console.warn = (...args) => {\n    // Suppress known warnings\n    if (args[0]?.includes?.('Color token not found')) {\n      return\n    }\n    originalWarn.call(console, ...args)\n  }\n})\n\nafterAll(() => {\n  console.error = originalError\n  console.warn = originalWarn\n})\n\n// Global test utilities\nglobal.testUtils = {\n  // Mock animation frame for performance tests\n  mockAnimationFrame: () => {\n    let callbacks = []\n    global.requestAnimationFrame = jest.fn((cb) => {\n      callbacks.push(cb)\n      return callbacks.length\n    })\n    global.cancelAnimationFrame = jest.fn((id) => {\n      callbacks = callbacks.filter((_, index) => index + 1 !== id)\n    })\n    \n    return {\n      tick: () => callbacks.forEach(cb => cb(performance.now())),\n      clear: () => { callbacks = [] }\n    }\n  },\n  \n  // Accessibility testing helper\n  toBeAccessible: async (element) => {\n    const { toHaveNoViolations } = require('jest-axe')\n    expect.extend(toHaveNoViolations)\n    \n    const axe = require('axe-core')\n    const results = await axe.run(element)\n    expect(results).toHaveNoViolations()\n  }\n}"],"names":["jest","mock","useRouter","route","pathname","query","asPath","push","fn","pop","reload","back","prefetch","mockResolvedValue","undefined","beforePopState","events","on","off","emit","replace","refresh","forward","useSearchParams","URLSearchParams","usePathname","motion","div","span","p","h1","h2","h3","button","section","article","header","footer","nav","AnimatePresence","children","useAnimation","start","stop","set","global","IntersectionObserver","observe","disconnect","unobserve","ResizeObserver","Object","defineProperty","window","writable","value","mockImplementation","matches","media","onchange","addListener","removeListener","addEventListener","removeEventListener","dispatchEvent","getComputedStyle","getPropertyValue","performance","now","Date","mark","measure","getEntriesByName","getEntriesByType","originalError","console","error","originalWarn","warn","beforeAll","args","includes","call","afterAll","testUtils","mockAnimationFrame","callbacks","requestAnimationFrame","cb","length","cancelAnimationFrame","id","filter","_","index","tick","forEach","clear","toBeAccessible","element","toHaveNoViolations","require","expect","extend","axe","results","run"],"mappings":"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"}